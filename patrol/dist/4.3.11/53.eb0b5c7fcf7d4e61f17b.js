webpackJsonp([53],{780:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),u=n(r),d=a(209),l=n(d),o=a(148),s=n(o);a(210);var c=a(320);t.default={namespace:"dotAdd",state:{catId:"",typeData:[],isSubmits:!0,defRadio:0,lat:"",lng:"",isSetMap:!1,orgData:[],employeeData:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){if("/dot/dotAdd"===e.pathname){t({type:"clearData"});var a={};a.pageIndex=1,a.pageSize=100,t({type:"queryTypes",payload:a}),t({type:"queryOrgs",payload:{}})}})}},effects:{getUsers:s.default.mark(function e(t,a){var n,r,u=t.payload,d=a.call,l=a.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(c.getUser,u);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=14;break}if(null===(r=n.data)){e.next=10;break}return e.next=8,l({type:"employeeData",payload:r.data});case 8:e.next=12;break;case 10:return e.next=12,l({type:"employeeData",payload:[]});case 12:e.next=16;break;case 14:return e.next=16,l({type:"employeeData",payload:[]});case 16:case"end":return e.stop()}},e,this)}),queryOrgs:s.default.mark(function e(t,a){var n,r,u,d=t.payload,l=a.call,o=a.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(c.qeryQrg,d);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=10;break}if(r=n.data,!(r.length>0)){e.next=10;break}if(null===r[0].children){e.next=10;break}return u=r[0].children,e.next=10,o({type:"orgData",payload:r[0].children});case 10:case"end":return e.stop()}},e,this)}),queryTypes:s.default.mark(function e(t,a){var n,r=t.payload,u=a.call,d=a.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(c.dotTypeList,r);case 2:if(n=e.sent,200!=n.code||null===n.data.data){e.next=6;break}return e.next=6,d({type:"queryType",payload:n.data.data});case 6:case"end":return e.stop()}},e,this)}),addDot:s.default.mark(function e(t,a){var n,r=t.payload,u=a.call;a.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(c.dotAdd,r);case 2:n=e.sent,200==n.code?(l.default.success("\u6dfb\u52a0\u6210\u529f!"),setTimeout(function(){history.go(-1)},500)):l.default.error("\u6dfb\u52a0\u5931\u8d25!");case 4:case"end":return e.stop()}},e,this)})},reducers:{clearData:function(e){return(0,u.default)({},e,{logoUrl:"",classifyData:[],catId:"",endTime:"",htmls:"",defRadio:0,isSubmits:!0,lat:"",lng:"",isSetMap:!1})},isSetMap:function(e,t){return(0,u.default)({},e,{isSetMap:t.payload})},setLat:function(e,t){return(0,u.default)({},e,{lat:t.lat,lng:t.lng})},defRadio:function(e,t){return(0,u.default)({},e,{defRadio:t.payload})},queryType:function(e,t){return(0,u.default)({},e,{typeData:t.payload})},isSubmits:function(e,t){return(0,u.default)({},e,{isSubmits:t.payload})},htmls:function(e,t){return(0,u.default)({},e,{htmls:t.payload})},endTime:function(e,t){return(0,u.default)({},e,{endTime:t.payload})},catId:function(e,t){return(0,u.default)({},e,{catId:t.payload})},logoUrl:function(e,t){return(0,u.default)({},e,{logoUrl:t.payload})},employeeData:function(e,t){return(0,u.default)({},e,{employeeData:t.payload})},orgData:function(e,t){return(0,u.default)({},e,{orgData:t.payload})}}},e.exports=t.default}});