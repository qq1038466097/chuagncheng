webpackJsonp([60],{826:function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(3),o=r(n),l=t(148),u=r(l),s=t(320),d=t(211),c=r(d),i=t(60);a.default={namespace:"analyCycle",state:{titles:["\u5355\u4f4d\u5408\u683c\u7387\u5206\u6790","\u7c7b\u578b\u5408\u683c\u7387\u5206\u6790","\u5730\u533a\u5408\u683c\u7387\u5206\u6790"],weeks:[],datas:[],typeData:[],areaData:[],selected:0,tab1_Index:-1,tab1_company:0,tab1_companyDetail:[],tab1_startTime:"",tab1_endTime:"",tab1_data:[],colorVal1:"60",colorVal2:"80",colorVal3:"90",colorVal4:"95",cashColorVal1:"60",cashColorVal2:"80",cashColorVal3:"90",cashColorVal4:"95",modalVisible:!1},subscriptions:{setup:function(e){var a=e.dispatch;e.history.listen(function(e){"/analyCycle"===e.pathname&&a({type:"queryWeeks",payload:{},number:-1})})}},effects:{queryWeeks:u.default.mark(function e(a,t){var r,n,o,l,d,i,p,y,f,m,x=a.payload,b=a.number,_=t.call,k=t.put;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(s.weeksList,x);case 2:if(r=e.sent,!(200==r.code&&null!==r.data&&r.data.length>0)){e.next=60;break}if(n=r.data,null==n[0].endTime&&(n[0].endTime=(0,c.default)().format("YYYY-MM-DD HH:mm:ss")),o=[],-1!=b){e.next=24;break}return l=n.length,l>4?(l=4,o.push(n[0]),o.push(n[1]),o.push(n[2]),o.push(n[3]),o.push(n[4])):o=n,d=n[l-1].startTime,i=n[0].endTime,e.next=14,k({type:"tab1_setTime",time1:d,time2:i});case 14:return p={},p.startTime=d,p.endTime=i,p.sort="pass_count/total_count",p.order="desc",p.roundPoint="-1",e.next=22,k({type:"query_orgTrendSummary",payload:p});case 22:e.next=56;break;case 24:if(0!=b){e.next=36;break}return y={},y.startTime=x.startTime,y.endTime=x.endTime,y.sort="pass_count/total_count",y.order="desc",y.roundPoint="-1",e.next=33,k({type:"query_orgTrendSummary",payload:y});case 33:o=n,e.next=56;break;case 36:if(1!=b){e.next=47;break}return f={},f.startTime=x.startTime,f.endTime=x.endTime,f.order="desc",f.roundPoint="-1",e.next=44,k({type:"query_type",payload:f});case 44:o=n,e.next=56;break;case 47:if(2!=b){e.next=56;break}return m={},m.startTime=x.startTime,m.endTime=x.endTime,m.order="desc",m.roundPoint="-1",e.next=55,k({type:"query_area",payload:m});case 55:o=n;case 56:return e.next=58,k({type:"weeks",payload:o});case 58:e.next=73;break;case 60:if(-1!=b&&0!=b){e.next=65;break}return e.next=63,k({type:"datas",payload:[]});case 63:e.next=73;break;case 65:if(1!=b){e.next=70;break}return e.next=68,k({type:"typeData",payload:[]});case 68:e.next=73;break;case 70:if(2!=b){e.next=73;break}return e.next=73,k({type:"areaData",payload:[]});case 73:case"end":return e.stop()}},e,this)}),query_orgTrendSummary:u.default.mark(function e(a,t){var r,n,o,l,d,c=a.payload,p=t.call,y=t.put;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(s.orgCycleAnalysis,c);case 2:if(r=e.sent,200!=r.code||null===r.data){e.next=10;break}for(n=r.data,o=0;o<n.length;o++){l=n[o];for(d in l)"org_name"!==d&&(l[d]=(0,i.getRate)(l[d],2)+"%");l.keys=o+1}return e.next=8,y({type:"datas",payload:n});case 8:e.next=12;break;case 10:return e.next=12,y({type:"datas",payload:[]});case 12:case"end":return e.stop()}},e,this)}),query_type:u.default.mark(function e(a,t){var r,n,o,l,d,c=a.payload,p=t.call,y=t.put;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(s.pointTypeCycleAnalysis,c);case 2:if(r=e.sent,200!=r.code||null===r.data){e.next=10;break}for(n=r.data,o=0;o<n.length;o++){l=n[o];for(d in l)"point_type_name"!==d&&(l[d]=(0,i.getRate)(l[d],2)+"%");l.keys=o+1}return e.next=8,y({type:"typeData",payload:n});case 8:e.next=12;break;case 10:return e.next=12,y({type:"typeData",payload:[]});case 12:case"end":return e.stop()}},e,this)}),query_area:u.default.mark(function e(a,t){var r,n,o,l,d,c=a.payload,p=t.call,y=t.put;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(s.areaCycleAnalysis,c);case 2:if(r=e.sent,200!=r.code||null===r.data){e.next=10;break}for(n=r.data,o=0;o<n.length;o++){l=n[o];for(d in l)"area_name"!==d&&(l[d]=(0,i.getRate)(l[d],2)+"%");l.keys=o+1}return e.next=8,y({type:"areaData",payload:n});case 8:e.next=12;break;case 10:return e.next=12,y({type:"areaData",payload:[]});case 12:case"end":return e.stop()}},e,this)})},reducers:{clearData:function(e){return(0,o.default)({},e,{data:[]})},weeks:function(e,a){return(0,o.default)({},e,{weeks:a.payload})},typeData:function(e,a){return(0,o.default)({},e,{typeData:a.payload})},areaData:function(e,a){return(0,o.default)({},e,{areaData:a.payload})},datas:function(e,a){return(0,o.default)({},e,{datas:a.payload})},querySuccess:function(e,a){return(0,o.default)({},e,{data:a.payload})},selected:function(e,a){return(0,o.default)({},e,{selected:a.payload})},tab1_Index:function(e,a){return(0,o.default)({},e,{tab1_Index:a.payload})},tab1_setTime:function(e,a){return(0,o.default)({},e,{tab1_startTime:a.time1,tab1_endTime:a.time2})},tab1_company:function(e,a){return(0,o.default)({},e,{tab1_company:a.payload})},tab1_data:function(e,a){return(0,o.default)({},e,{tab1_data:a.payload})},tab1_companyDetail:function(e,a){return(0,o.default)({},e,{tab1_companyDetail:a.payload})},setColorVal1:function(e,a){return(0,o.default)({},e,{colorVal1:a.payload})},setColorVal2:function(e,a){return(0,o.default)({},e,{colorVal2:a.payload})},setColorVal3:function(e,a){return(0,o.default)({},e,{colorVal3:a.payload})},setColorVal4:function(e,a){return(0,o.default)({},e,{colorVal4:a.payload})},setVisible:function(e,a){return(0,o.default)({},e,{modalVisible:a.payload})},setCashColorVal1:function(e,a){return(0,o.default)({},e,{cashColorVal1:a.payload})},setCashColorVal2:function(e,a){return(0,o.default)({},e,{cashColorVal2:a.payload})},setCashColorVal3:function(e,a){return(0,o.default)({},e,{cashColorVal3:a.payload})},setCashColorVal4:function(e,a){return(0,o.default)({},e,{cashColorVal4:a.payload})}}},e.exports=a.default}});