webpackJsonp([43],{776:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(3),r=n(u),s=a(209),c=n(s),l=a(148),o=n(l);a(210);var d=a(320);t.default={namespace:"notice",state:{datas:null,cfgValue:-1,paginationG:{},imgList:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){if("/notice"===e.pathname){t({type:"queryRule",payload:{}});var a={};a.cfgCode="SYS.NOTICE.SHOW",t({type:"getCfg",payload:a})}})}},effects:{queryRule:o.default.mark(function e(t,a){var n,u,r,s,c,l,p=t.payload,i=a.call,f=a.put;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(d.noticeList,p);case 2:if(n=e.sent,200!=n.code||null===n.data.data){e.next=16;break}for(u=n.data,r={},r.total=u.totalCount,r.pageSize=u.pageSize,r.current=u.currentIndex,s=Math.ceil(u.totalCount/u.pageSize),r.pageCount=s,c=0;c<u.data.length;c++)u.data[c].keys=10*(u.currentIndex-1)+c+1;return e.next=14,f({type:"querySuccess",payload:u.data,pages:r});case 14:e.next=23;break;case 16:return l={},l.total=0,l.pageSize=1,l.current=0,l.pageCount=0,e.next=23,f({type:"querySuccess",payload:[],pages:l});case 23:case"end":return e.stop()}},e,this)}),submit:o.default.mark(function e(t,a){var n,u=t.payload,r=a.call,s=a.put;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(d.noticeSave,u);case 2:if(n=e.sent,200!=n.code){e.next=7;break}return c.default.success("\u6d88\u606f\u53d1\u9001\u6210\u529f!"),e.next=7,s({type:"queryRule",payload:{}});case 7:case"end":return e.stop()}},e,this)}),delete:o.default.mark(function e(t,a){var n,u=t.payload,r=a.call,s=a.put;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(d.noticeDelte,u);case 2:if(n=e.sent,200!=n.code){e.next=7;break}return c.default.success("\u5220\u9664\u6210\u529f!"),e.next=7,s({type:"queryRule",payload:{}});case 7:case"end":return e.stop()}},e,this)}),isMess:o.default.mark(function e(t,a){var n,u,r=t.payload,s=t.keys,l=a.call;a.put;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(d.messupdateCfg,r);case 2:n=e.sent,200==n.code&&(u="",u=0==s?"\u5df2\u5173\u95ed\u6d88\u606f\u901a\u77e5":"\u5df2\u5f00\u542f\u6d88\u606f\u901a\u77e5",c.default.success("\u914d\u7f6e\u6210\u529f\uff0c"+u));case 4:case"end":return e.stop()}},e,this)}),getCfg:o.default.mark(function e(t,a){var n,u=t.payload,r=a.call,s=a.put;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(d.cfgSystem,u);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=6;break}return e.next=6,s({type:"cfgValue",payload:n.data.cfgValue});case 6:case"end":return e.stop()}},e,this)})},reducers:{querySuccess:function(e,t){return(0,r.default)({},e,{datas:t.payload,paginationG:t.pages})},cfgValue:function(e,t){return(0,r.default)({},e,{cfgValue:t.payload})},imgList:function(e,t){return(0,r.default)({},e,{imgList:t.payload})}}},e.exports=t.default}});