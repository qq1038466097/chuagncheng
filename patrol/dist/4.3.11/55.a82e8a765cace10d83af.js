webpackJsonp([55],{828:function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var u=t(3),d=n(u),r=t(209),l=n(r),i=t(148),s=n(i);t(210);var c=t(320);a.default={namespace:"device",state:{data:[],showModal:!1,searchList:{},paginationG:{},pageindex:1,pagesize:10,bindIds:null,equDetail:null,editModal:!1,editData:null},subscriptions:{setup:function(e){var a=e.dispatch;e.history.listen(function(e){"/device"===e.pathname&&(a({type:"clearData"}),a({type:"queryRule",payload:{}}))})}},effects:{queryRule:s.default.mark(function e(a,t){var n,u,d,r,l=a.payload,i=t.call,o=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(c.deviceList,l);case 2:if(n=e.sent,200!=n.code){e.next=22;break}if(null!=n.data.data&&0!=n.data.data.length){e.next=14;break}return u={},u.total=0,u.pageSize=0,u.current=0,u.pageCount=0,e.next=12,o({type:"querySuccess",payload:[],page:u});case 12:e.next=22;break;case 14:return d={},d.total=n.data.totalCount,d.pageSize=n.data.pageSize,d.current=n.data.currentIndex,r=Math.ceil(n.data.totalCount/n.data.pageSize),d.pageCount=r,e.next=22,o({type:"querySuccess",payload:n.data.data,page:d});case 22:case"end":return e.stop()}},e,this)}),deviceDel:s.default.mark(function e(a,t){var n,u,d=a.payload,r=a.searchList,i=t.call,o=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(c.deviceDel,d);case 2:if(n=e.sent,200!=n.code){e.next=8;break}return l.default.success("\u5220\u9664\u6210\u529f!"),u=r,e.next=8,o({type:"queryRule",payload:u});case 8:case"end":return e.stop()}},e,this)}),deviceSave:s.default.mark(function e(a,t){var n,u=a.payload,d=t.call,r=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(c.deviceAdd,u);case 2:if(n=e.sent,200!=n.code){e.next=7;break}return l.default.success("\u64cd\u4f5c\u6210\u529f\uff01"),e.next=7,r({type:"queryRule",payload:{}});case 7:case"end":return e.stop()}},e,this)})},reducers:{clearData:function(e){return(0,d.default)({},e,{data:[],showModal:!1,searchList:{},paginationG:{},pageindex:1,pagesize:10,bindIds:null,equDetail:null,editModal:!1,editData:null})},editModal:function(e,a){return(0,d.default)({},e,{editModal:a.payload})},editData:function(e,a){return(0,d.default)({},e,{editData:a.payload})},equDetail:function(e,a){return(0,d.default)({},e,{equDetail:a.payload})},bindIds:function(e,a){return(0,d.default)({},e,{bindIds:a.payload})},querySuccess:function(e,a){return(0,d.default)({},e,{data:a.payload,paginationG:a.page})},showModal:function(e,a){return(0,d.default)({},e,{showModal:a.payload})},setPage:function(e,a){return(0,d.default)({},e,{pageindex:a.payload,pagesize:a.size})},searchList:function(e,a){return(0,d.default)({},e,{searchList:a.payload})}}},e.exports=a.default}});