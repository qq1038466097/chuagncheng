webpackJsonp([59],{822:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),u=n(r),l=a(19),c=n(l),o=a(148),d=n(o),s=a(320),p=a(60),i=a(211),y=n(i);t.default={namespace:"analyweek",state:{weeks:[],chooseweeks:0,totalData:{},titles:["\u5355\u4f4d\u8d8b\u52bf","\u7c7b\u578b\u8d8b\u52bf","\u5730\u57df\u8d8b\u52bf","\u5355\u4f4d\u62a5\u8868","\u7c7b\u578b\u62a5\u8868","\u5730\u533a\u62a5\u8868","\u9879\u76ee\u6307\u6807\u62a5\u8868"],selected:0,tab1_Index:-1,tab1_company:0,tab1_companyDetail:[],tab1_startTime:"",tab1_endTime:"",tab1_data:[],tab1_tabul:0,chooseweeks2:0,tab2_Index:-1,tab2_company:0,tab2_companyDetail:[],tab2_startTime:"",tab2_endTime:"",tab2_data:[],tab2_tabul:0},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){"/analyWeek"===e.pathname&&(t({type:"queryWeeks",payload:{}}),t({type:"clearData"}))})}},effects:(0,c.default)({groupList:d.default.mark(function e(t,a){var n,r,u,l=t.payload,c=a.call,o=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(s.groupitemList,l);case 2:if(n=e.sent,!(200==n.code&&null!==n.data&null!==n.data.data)){e.next=10;break}for(r=n.data.data,u=0;u<r.length;u++)r[u].key=u+1,0==r[u].cycle_error_count||null==r[u].cycle_error_count?r[u].zgLv=0:r[u].zgLv=parseInt(r[u].cycle_fix_count/r[u].cycle_error_count*100),0==r[u].cumulative_error_count||null==r[u].cumulative_error_count?r[u].zgLvNum=0:r[u].zgLvNum=parseInt(r[u].cumulative_fix_count/r[u].cumulative_error_count*100),r[u].zgLvNum=parseInt(r[u].cumulative_fix_count/r[u].cumulative_error_count*100);return e.next=8,o({type:"tab1_data",payload:r});case 8:e.next=12;break;case 10:return e.next=12,o({type:"tab1_data",payload:[]});case 12:case"end":return e.stop()}},e,this)}),groupSummary:d.default.mark(function e(t,a){var n,r,u=t.payload,l=a.call,c=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s.groupitemSummary,u);case 2:if(n=e.sent,200!=n.code||null===n.data||null===n.data.data){e.next=7;break}return r=n.data,e.next=7,c({type:"totalData",payload:r});case 7:case"end":return e.stop()}},e,this)}),areaData:d.default.mark(function e(t,a){var n,r,u,l,c=t.payload,o=a.call,p=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s.areaTrendSummary,c);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=22;break}r=n.data,u={},l=0;case 7:if(!(l<r.length)){e.next=15;break}if(null!=r[l].area_name){e.next=12;break}return u=r[l],r.splice(l,1),e.abrupt("break",15);case 12:l++,e.next=7;break;case 15:return u.area_name="\u6574\u4f53",u.org_id=0,r.unshift(u),e.next=20,p({type:"tab1_data",payload:r});case 20:return e.next=22,p({type:"tab1_company",payload:"\u6574\u4f53"});case 22:case"end":return e.stop()}},e,this)}),areaData2:d.default.mark(function e(t,a){var n,r,u,l,c=t.payload,o=a.call,p=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s.areaTrendSummary,c);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=22;break}r=n.data,u={},l=0;case 7:if(!(l<r.length)){e.next=15;break}if(null!=r[l].area_name){e.next=12;break}return u=r[l],r.splice(l,1),e.abrupt("break",15);case 12:l++,e.next=7;break;case 15:return u.area_name="\u6574\u4f53",u.org_id=0,r.unshift(u),e.next=20,p({type:"tab2_data",payload:r});case 20:return e.next=22,p({type:"tab2_company",payload:"\u6574\u4f53"});case 22:case"end":return e.stop()}},e,this)}),areaDataDw:d.default.mark(function e(t,a){var n,r,u,l,c,o,i=t.payload,y=a.call,f=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(s.areaTrendSummary,i);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=13;break}for(r=n.data,u={},l=[],c=void 0,o=0;o<r.length;o++)null!==r[o].area_name?(r[o].stay_checked=(0,p.getXfnum)(r[o]),r[o].stay_checkedLv=(0,p.getXflv)(r[o])+"%",r[o].problem=(0,p.getPronum)(r[o]),r[o].zgLv=(0,p.getZglv)(r[o])+"%",r[o].hglv=(0,p.getHglv)(r[o])+"%",r[o].key=o+1,l.push(r[o])):c=r[o];return e.next=11,f({type:"tab1_data",payload:l});case 11:return e.next=13,f({type:"totalData",payload:c});case 13:case"end":return e.stop()}},e,this)}),querypointTypeDetail:d.default.mark(function e(t,a){var n,r,u=t.payload,l=a.call,c=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s.listPointTypeTrend,u);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=7;break}return r=n.data,e.next=7,c({type:"tab1_companyDetail",payload:r});case 7:case"end":return e.stop()}},e,this)}),querypointTypeDetail2:d.default.mark(function e(t,a){var n,r,u=t.payload,l=a.call,c=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s.listPointTypeTrend,u);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=7;break}return r=n.data,e.next=7,c({type:"tab2_companyDetail",payload:r});case 7:case"end":return e.stop()}},e,this)}),querypointTypeDw:d.default.mark(function e(t,a){var n,r,u,l,c,o,i=t.payload,y=a.call,f=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(s.pointTypeTrendSummary,i);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=15;break}for(r=n.data,u={},l=[],c=void 0,o=0;o<r.length;o++)null!==r[o].point_type_name?(r[o].stay_checked=(0,p.getXfnum)(r[o]),r[o].stay_checkedLv=(0,p.getXflv)(r[o])+"%",r[o].problem=(0,p.getPronum)(r[o]),r[o].zgLv=(0,p.getZglv)(r[o])+"%",r[o].hglv=(0,p.getHglv)(r[o])+"%",r[o].key=o+1,l.push(r[o])):c=r[o];return e.next=11,f({type:"tab1_data",payload:l});case 11:return e.next=13,f({type:"totalData",payload:c});case 13:e.next=19;break;case 15:return e.next=17,f({type:"tab1_data",payload:[]});case 17:return e.next=19,f({type:"totalData",payload:{}});case 19:case"end":return e.stop()}},e,this)}),querypointType:d.default.mark(function e(t,a){var n,r,u,l,c=t.payload,o=a.call,p=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s.pointTypeTrendSummary,c);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=22;break}r=n.data,u={},l=0;case 7:if(!(l<r.length)){e.next=15;break}if(null!=r[l].point_type){e.next=12;break}return u=r[l],r.splice(l,1),e.abrupt("break",15);case 12:l++,e.next=7;break;case 15:return u.point_type_name="\u6574\u4f53",u.point_type="\u6574\u4f53",r.unshift(u),e.next=20,p({type:"tab1_data",payload:r});case 20:return e.next=22,p({type:"tab1_company",payload:"\u6574\u4f53"});case 22:case"end":return e.stop()}},e,this)}),querypointType2:d.default.mark(function e(t,a){var n,r,u,l,c=t.payload,o=a.call,p=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s.pointTypeTrendSummary,c);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=22;break}r=n.data,u={},l=0;case 7:if(!(l<r.length)){e.next=15;break}if(null!=r[l].point_type){e.next=12;break}return u=r[l],r.splice(l,1),e.abrupt("break",15);case 12:l++,e.next=7;break;case 15:return u.point_type_name="\u6574\u4f53",u.point_type="\u6574\u4f53",r.unshift(u),e.next=20,p({type:"tab2_data",payload:r});case 20:return e.next=22,p({type:"tab2_company",payload:"\u6574\u4f53"});case 22:case"end":return e.stop()}},e,this)}),query_orgTrendSummary:d.default.mark(function e(t,a){var n,r,u,l,c=t.payload,o=a.call,p=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s.orgTrendSummary,c);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=20;break}r=n.data,u={},l=0;case 7:if(!(l<r.length)){e.next=15;break}if(null!=r[l].org_id){e.next=12;break}return u=r[l],r.splice(l,1),e.abrupt("break",15);case 12:l++,e.next=7;break;case 15:return u.org_name="\u6574\u4f53",u.org_id=0,r.unshift(u),e.next=20,p({type:"tab1_data",payload:r});case 20:case"end":return e.stop()}},e,this)}),query_orgTrendSummaryDw:d.default.mark(function e(t,a){var n,r,u,l,c,o,i=t.payload,y=a.call,f=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(s.orgTrendSummary,i);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=15;break}for(r=n.data,u={},l=[],c=void 0,o=0;o<r.length;o++)null!==r[o].org_name?(r[o].stay_checked=(0,p.getXfnum)(r[o]),r[o].stay_checkedLv=(0,p.getXflv)(r[o])+"%",r[o].problem=(0,p.getPronum)(r[o]),r[o].zgLv=(0,p.getZglv)(r[o])+"%",r[o].hglv=(0,p.getHglv)(r[o])+"%",r[o].key=o+1,l.push(r[o])):c=r[o];return e.next=11,f({type:"tab1_data",payload:l});case 11:return e.next=13,f({type:"totalData",payload:c});case 13:e.next=19;break;case 15:return e.next=17,f({type:"tab1_data",payload:[]});case 17:return e.next=19,f({type:"totalData",payload:{}});case 19:case"end":return e.stop()}},e,this)}),companyDetail:d.default.mark(function e(t,a){var n,r,u=t.payload,l=a.call,c=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s.listOrgTrend,u);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=7;break}return r=n.data,e.next=7,c({type:"tab1_companyDetail",payload:r});case 7:case"end":return e.stop()}},e,this)}),companyDetail2:d.default.mark(function e(t,a){var n,r,u=t.payload,l=a.call,c=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s.listOrgTrend,u);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=7;break}return r=n.data,e.next=7,c({type:"tab2_companyDetail",payload:r});case 7:case"end":return e.stop()}},e,this)}),areaDetail:d.default.mark(function e(t,a){var n,r,u=t.payload,l=a.call,c=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s.listAreaTrend,u);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=7;break}return r=n.data,e.next=7,c({type:"tab1_companyDetail",payload:r});case 7:case"end":return e.stop()}},e,this)}),areaDetail2:d.default.mark(function e(t,a){var n,r,u=t.payload,l=a.call,c=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s.listAreaTrend,u);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=7;break}return r=n.data,e.next=7,c({type:"tab2_companyDetail",payload:r});case 7:case"end":return e.stop()}},e,this)}),queryWeeks:d.default.mark(function e(t,a){var n,r,u,l,c,o=t.payload,p=a.call,i=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(s.weeksList,o);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=36;break}return r=n.data,null==r[0].endTime&&(r[0].endTime=(0,y.default)().format("YYYY-MM-DD HH:mm:ss")),e.next=8,i({type:"weeks",payload:r});case 8:return u={},u.startTime=r[0].startTime,u.endTime=r[0].endTime,u.sort="pass_count/total_count",u.order="desc",u.roundPoint="-1",e.next=16,i({type:"query_orgTrendSummary",payload:u});case 16:return l={},l.startTime=r[0].startTime,l.endTime=r[0].endTime,l.sort="stay_review/(total_count-pass_count-stay_check)",l.order="desc",l.roundPoint="-1",e.next=24,i({type:"query_orgTrendSummary2",payload:l});case 24:return c={},c.roundPoint="-1",c.startTime=r[0].startTime,c.endTime=r[0].endTime,e.next=30,i({type:"companyDetail",payload:c});case 30:return e.next=32,i({type:"companyDetail2",payload:c});case 32:return e.next=34,i({type:"tab1_setTime",time1:r[0].startTime,time2:r[0].endTime,time3:0});case 34:return e.next=36,i({type:"tab2_setTime",time1:r[0].startTime,time2:r[0].endTime,time3:0});case 36:case"end":return e.stop()}},e,this)}),query_orgTrendSummary2:d.default.mark(function e(t,a){var n,r,u,l,c=t.payload,o=a.call,p=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s.orgTrendSummary,c);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=20;break}r=n.data,u={},l=0;case 7:if(!(l<r.length)){e.next=15;break}if(null!=r[l].org_id){e.next=12;break}return u=r[l],r.splice(l,1),e.abrupt("break",15);case 12:l++,e.next=7;break;case 15:return u.org_name="\u6574\u4f53",u.org_id=0,r.unshift(u),e.next=20,p({type:"tab2_data",payload:r});case 20:case"end":return e.stop()}},e,this)})},"companyDetail2",d.default.mark(function e(t,a){var n,r,u=t.payload,l=a.call,c=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(s.listOrgTrend,u);case 2:if(n=e.sent,200!=n.code||null===n.data){e.next=7;break}return r=n.data,e.next=7,c({type:"tab2_companyDetail",payload:r});case 7:case"end":return e.stop()}},e,this)})),reducers:{clearData:function(e){return(0,u.default)({},e,{data:[],selected:0})},querySuccess:function(e,t){return(0,u.default)({},e,{data:t.payload})},selected:function(e,t){return(0,u.default)({},e,{selected:t.payload})},tab1_Index:function(e,t){return(0,u.default)({},e,{tab1_Index:t.payload})},tab1_setTime:function(e,t){return(0,u.default)({},e,{tab1_startTime:t.time1,tab1_endTime:t.time2,chooseweeks:t.time3})},tab1_company:function(e,t){return(0,u.default)({},e,{tab1_company:t.payload})},weeks:function(e,t){return(0,u.default)({},e,{weeks:t.payload})},tab1_data:function(e,t){return(0,u.default)({},e,{tab1_data:t.payload})},tab1_tabul:function(e,t){return(0,u.default)({},e,{tab1_tabul:t.payload})},totalData:function(e,t){return(0,u.default)({},e,{totalData:t.payload})},tab1_companyDetail:function(e,t){return(0,u.default)({},e,{tab1_companyDetail:t.payload})},tab2_Index:function(e,t){return(0,u.default)({},e,{tab2_Index:t.payload})},tab2_setTime:function(e,t){return(0,u.default)({},e,{tab2_startTime:t.time1,tab2_endTime:t.time2,chooseweeks2:t.time3})},tab2_company:function(e,t){return(0,u.default)({},e,{tab2_company:t.payload})},tab2_data:function(e,t){return(0,u.default)({},e,{tab2_data:t.payload})},tab2_tabul:function(e,t){return(0,u.default)({},e,{tab2_tabul:t.payload})},tab2_companyDetail:function(e,t){return(0,u.default)({},e,{tab2_companyDetail:t.payload})}}},e.exports=t.default}});