webpackJsonp([54],{778:function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(3),u=r(n),s=t(209),d=r(s),c=t(148),l=r(c);t(210);var o=t(320),p=t(60);a.default={namespace:"dot",state:{data:[],paginationG:{},searchList:{},pageindex:1,pagesize:10,classifyData:[],catId:"",selected:2,companyList:[],typedata:[],orgData:[],history:null},subscriptions:{setup:function(e){var a=e.dispatch;e.history.listen(function(e){if("/dot"===e.pathname){var t=localStorage.getItem("dotSearchs"),r={};null==t?(null==p.isAdmin&&(r.authOrgId=p.searchOrg),r.pageIndex=1,r.pageSize=10,a({type:"clearData"}),a({type:"searchList",payload:r})):(r=JSON.parse(t),null==p.isAdmin&&(r.authOrgId=p.searchOrg),a({type:"history",payload:r}),a({type:"searchList",payload:r})),a({type:"queryRule",payload:r});var n={};n.pageIndex=1,n.pageSize=100,a({type:"queryTypes",payload:n}),a({type:"queryOrgs",payload:{}})}})}},effects:{queryOrgs:l.default.mark(function e(a,t){var r,n,u,s=a.payload,d=t.call,c=t.put;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(o.qeryQrg,s);case 2:if(r=e.sent,200!=r.code||null===r.data){e.next=10;break}if(n=r.data,!(n.length>0)){e.next=10;break}if(null===n[0].children){e.next=10;break}return u=n[0].children,e.next=10,c({type:"orgData",payload:n[0].children});case 10:case"end":return e.stop()}},e,this)}),queryTypes:l.default.mark(function e(a,t){var r,n=a.payload,u=t.call,s=t.put;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(o.dotTypeList,n);case 2:if(r=e.sent,200!=r.code||null===r.data.data){e.next=6;break}return e.next=6,s({type:"queryType",payload:r.data.data});case 6:case"end":return e.stop()}},e,this)}),dotDelete:l.default.mark(function e(a,t){var r,n,u=a.payload,s=a.searchList,c=t.call,p=t.put;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(o.dotDel,u);case 2:if(r=e.sent,200!=r.code){e.next=8;break}return d.default.success("\u5220\u9664\u6210\u529f!"),n=s,e.next=8,p({type:"queryRule",payload:n});case 8:case"end":return e.stop()}},e,this)}),queryRule:l.default.mark(function e(a,t){var r,n,u,s,d=a.payload,c=t.call,p=t.put;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(o.dotList,d);case 2:if(r=e.sent,200!=r.code){e.next=24;break}if(null!=r.data.data&&0!=r.data.data.length){e.next=14;break}return n={},n.total=0,n.pageSize=0,n.current=0,n.pageCount=0,e.next=12,p({type:"querySuccess",payload:[],page:n});case 12:e.next=24;break;case 14:return u={},u.total=r.data.totalCount,u.pageSize=r.data.pageSize,u.current=r.data.currentIndex,s=Math.ceil(r.data.totalCount/r.data.pageSize),u.pageCount=s,e.next=22,p({type:"clearList"});case 22:return e.next=24,p({type:"querySuccess",payload:r.data,page:u});case 24:case"end":return e.stop()}},e,this)}),delProduct:l.default.mark(function e(a,t){var r,n,u=a.payload,s=a.selected,c=t.call,p=t.put;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(o.productDel,u);case 2:if(r=e.sent,200!=r.code){e.next=11;break}return d.default.success("\u5220\u9664\u6210\u529f!"),n={},n.goodsStatus=s,e.next=9,p({type:"queryRule",payload:n});case 9:e.next=12;break;case 11:d.default.error("\u5220\u9664\u5931\u8d25\uff0c"+r.msg);case 12:case"end":return e.stop()}},e,this)})},reducers:{clearList:function(e){return(0,u.default)({},e,{data:[],paginationG:{},pageindex:1,pagesize:10})},clearData:function(e){return(0,u.default)({},e,{data:[],paginationG:{},searchList:{},pageindex:1,pagesize:10,classifyData:[],catId:"",selected:2,companyList:[],history:null})},orgData:function(e,a){return(0,u.default)({},e,{orgData:a.payload})},queryType:function(e,a){return(0,u.default)({},e,{typedata:a.payload})},companyList:function(e,a){return(0,u.default)({},e,{companyList:a.payload})},selected:function(e,a){return(0,u.default)({},e,{selected:a.payload})},queryClassData:function(e,a){return(0,u.default)({},e,{classifyData:a.payload})},catId:function(e,a){return(0,u.default)({},e,{catId:a.payload})},querySuccess:function(e,a){return(0,u.default)({},e,{data:a.payload,paginationG:a.page})},searchList:function(e,a){return(0,u.default)({},e,{searchList:a.payload})},history:function(e,a){return(0,u.default)({},e,{history:a.payload})},setPage:function(e,a){return(0,u.default)({},e,{pageindex:a.payload,pagesize:a.size})}}},e.exports=a.default}});